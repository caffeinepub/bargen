{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Prepare frontend for live (non-expiring) deployment",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Ensure the current frontend build is ready to be published to a live (non-expiring) deployment and remains functional at '/' without requiring app changes beyond publish readiness.",
      "acceptanceCriteria": [
        "A live deployment is created from the current project state (not a draft-only deployment).",
        "The published app is reachable via its live URL and loads the main route ('/').",
        "Backend canister calls function as they did in the draft deployment (no regressions introduced by publishing)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Remove duplicate React Query client/provider ownership from App so the application uses a single QueryClient instance (avoid differing cache behavior between draft vs live builds); keep router + theme + toaster wiring intact to prevent regressions on publish."
        },
        {
          "path": "frontend/src/main.tsx",
          "operation": "modify",
          "description": "Make main.tsx the single place that creates and provides the configured QueryClient (matching current intended defaults) and wraps InternetIdentityProvider + App once, ensuring stable startup behavior when deployed live."
        },
        {
          "path": "frontend/DEPLOYMENT.md",
          "operation": "create",
          "description": "Add a concise English-only checklist documenting how to publish the current deployed draft to a live (non-expiring) deployment and how to verify '/' loads plus basic backend-call smoke checks (e.g., browsing products) after publishingâ€”without requiring any rebuild steps."
        }
      ]
    }
  ]
}